## Redis 有几种数据结构？Zset 是如何实现的？
## 简述 Redis 持久化中 rdb 以及 aof 方案的优缺点
### 持久化机制
Redis快很大一部分原因是因为它数据都是存储在内存中，当断电或重启就会存在数据丢失，为了实现重启后数据不丢失，Redis提供了两种数据持久化方案rdb（Redis DataBase快照）和aof（AppendOnlyFile）。默认是使用rdb，当开启了aof时，优先使用aof。
#### rdb
- 触发方式
  - 自动触发：我们可以设置自动触发的规则（save+时间间隔单位秒+保存key数量），有多个规则时，规则都会生效。比如save 100 10就是100秒至少10个key被修改，就触发保存。当shutdown的时候也会生成快照dump.rdb ，在安装根目录下。
  - 手动触发
    - save：会阻塞Redis服务器
    - bgsave：fork一个子进程进行快照，不会影响redis的使用，fork之后的修改不会保存到快照中
- 恢复：Redis启动时会自动恢复数据

#### aof
- 备份方式：redis会将所有命令追加到文件中，当redis重启时，会将命令重新执行一次。当追加命令越来越多，aof文件越来越大时，Redis会对根据存在的key对key命令操作进行重写（可以设置重写key操作的文件大小，也可以手动通过`bgrewriteaof`）。
- 启用方式：设置appenonly为yes

### rdb与aof优缺点
- rdb
  - 优点
    - 相对aof，数据格式更合适备份与容灾，没有重复命令那些
    - 恢复数据时比aof快
    - 备份数据时是子进程备份，不影响redis使用
  - 缺点
    - 快照之后的修改数据会丢失（无法频繁的做持久化，因为是创建子进程方式，频繁执行，代价太高）
- aof
  - 优点
    - 数据丢失较少
  - 缺点
    - 备份文件体积更大，恢复更慢
    - 高并发下，频繁append没有rdb子进程方式效率高
## Redis 如何实现延时队列，分布式锁的实现原理
## 简述 Redis 中如何防止缓存雪崩和缓存击穿
## 简述 Redis 中跳表的应用以及优缺点
## 假设Redis 的 master 节点宕机了，你会怎么进行数据恢复？